**Probably makes sense to run those on an older linux distro, so that the configure is generated by an older version of `aclocal`**

```
cd tor-tor-*

# Apply fix from https://github.com/Blockstream/gdk/blob/master/tools/buildtor.sh#L65
sed -i "740a TOR_LIB_PTHREAD=-lpthread" configure.ac
sed -i "741s!^TOR_LIB.*!  TOR_LIB_PTHREAD=-lpthread!" configure.ac
sed -i "764a AC_SUBST(TOR_LIB_PTHREAD)" configure.ac
sed -i "912s!^TOR_SEARCH.*!TOR_SEARCH_LIBRARY(openssl, \$tryssldir, \[-lssl -lcrypto \$TOR_LIB_GDI \$TOR_LIB_WS32 \$TOR_LIB_CRYPT32\ -ldl \$TOR_LIB_PTHREAD\],!" configure.ac
# extra fix for openssl, broken on ubuntu ??
sed -i "922s!\[.*SSL_CIPHER_get_id((void \*)0);]![]!g" configure.ac
# remove configure from .gitignore
sed -i "s/^\/configure//g" .gitignore

sh autogen.sh

cd ../
```

reconfigure libevent with an older aclocal

```
cd libevent-sys/libevent-*

sh autogen.sh

cd ../../
```
